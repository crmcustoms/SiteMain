# Простіший варіант Dockerfile якщо standalone не працює
FROM node:22-alpine

WORKDIR /app

# Копіюємо package files та встановлюємо всі залежності
COPY package*.json ./
RUN npm ci

# Копіюємо весь код
COPY . .

# Збираємо проект
RUN npm run build

# Видаляємо dev залежності для зменшення розміру
RUN npm prune --production

EXPOSE 3000

ENV NODE_ENV=production
ENV NEXT_TELEMETRY_DISABLED=1

CMD ["npm", "start"] 